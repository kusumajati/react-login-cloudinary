{"ast":null,"code":"var _jsxFileName = \"/home/mahendra/Documents/react/react-login-cloudinary/src/Product/ProductForm2.js\";\nimport React, { createRef } from 'react';\nimport { Col, Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport ReactDOM from 'react-dom';\nimport Dropzone from 'react-dropzone';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nvar dropzoneRef = createRef();\nexport default class ProductForm2 extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleUploadImages = images => {\n      // uploads is an array that would hold all the post methods for each image to be uploaded, then we'd use axios.all()\n      const uploads = images.map(image => {\n        // our formdata\n        const formData = new FormData();\n        formData.append(\"file\", image);\n        formData.append(\"tags\", 'product_image'); // Add tags for the images - {Array}\n\n        formData.append(\"upload_preset\", \"ninopreset\"); // Replace the preset name with your own\n\n        formData.append(\"api_key\", \"234688971755288\"); // Replace API key with your own Cloudinary API key\n\n        formData.append(\"timestamp\", Date.now() / 1000 | 0); // Replace cloudinary upload URL with yours\n\n        return axios.post(\"https://api.cloudinary.com/v1_1/ninocloudinary/image/upload\", formData, {\n          headers: {\n            \"X-Requested-With\": \"XMLHttpRequest\"\n          }\n        }).then(response => {\n          //masukan logic\n          this.setState({\n            image: response.data.secure_url\n          });\n        });\n      }); // We would use axios `.all()` method to perform concurrent image upload to cloudinary.\n\n      axios.all(uploads).then(() => {\n        // ... do anything after successful upload. You can setState() or save the data\n        console.log('Images have all being uploaded');\n      });\n    };\n\n    this.state = {\n      image: ''\n    };\n  } // This function does the uploading to cloudinary\n\n\n  render() {\n    var dropzone;\n\n    if (!this.state.image) {\n      //dropzone nya gambar kamera\n      dropzone = React.createElement(Dropzone, {\n        id: \"dropzone\",\n        ref: dropzoneRef,\n        onDrop: this.handleUploadImages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, ({\n        getRootProps,\n        getInputProps\n      }) => React.createElement(\"div\", Object.assign({}, getRootProps(), {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"input\", Object.assign({}, getInputProps(), {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(\"img\", {\n        style: {\n          width: '200px'\n        },\n        src: \"https://www.mbsplugins.de/images/drop-files-here-extra.jpg\",\n        alt: \"\",\n        srcset: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })));\n    } else {\n      //dropzonnya gambr dari response\n      dropzone = React.createElement(Dropzone, {\n        id: \"dropzone\",\n        ref: dropzoneRef,\n        onDrop: this.handleUploadImages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, ({\n        getRootProps,\n        getInputProps\n      }) => React.createElement(\"div\", Object.assign({}, getRootProps(), {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"input\", Object.assign({}, getInputProps(), {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })), React.createElement(\"img\", {\n        style: {\n          width: 100\n        },\n        src: this.state.image,\n        alt: \"\",\n        srcset: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })));\n    }\n\n    if (!localStorage.getItem('TOKEN')) {\n      return Redirect;\n    }\n\n    return React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      row: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"exampleEmail\",\n      sm: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Nama Produk\"), React.createElement(Col, {\n      sm: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      name: \"email\",\n      id: \"exampleEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }))), React.createElement(FormGroup, {\n      row: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"examplePassword\",\n      sm: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Harga Produk\"), React.createElement(Col, {\n      sm: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"number\",\n      name: \"password\",\n      id: \"examplePassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }))), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"dropzone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Upload Gambar\"), dropzone), React.createElement(FormGroup, {\n      check: true,\n      row: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: {\n        size: 10,\n        offset: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/mahendra/Documents/react/react-login-cloudinary/src/Product/ProductForm2.js"],"names":["React","createRef","Col","Button","Form","FormGroup","Label","Input","FormText","ReactDOM","Dropzone","axios","Redirect","dropzoneRef","ProductForm2","Component","constructor","props","handleUploadImages","images","uploads","map","image","formData","FormData","append","Date","now","post","headers","then","response","setState","data","secure_url","all","console","log","state","render","dropzone","getRootProps","getInputProps","width","localStorage","getItem","size","offset"],"mappings":"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","sourcesContent":["import React, {createRef} from 'react';\nimport { Col, Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport ReactDOM from 'react-dom';\nimport Dropzone from 'react-dropzone'\nimport axios from 'axios'\nimport {Redirect} from 'react-router-dom'\n\nvar dropzoneRef = createRef()\n\nexport default class ProductForm2 extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.state={\n            image:''\n        }\n    }\n\n    // This function does the uploading to cloudinary\n  handleUploadImages = images => {\n    // uploads is an array that would hold all the post methods for each image to be uploaded, then we'd use axios.all()\n    const uploads = images.map(image => {\n      // our formdata\n      const formData = new FormData();\n      formData.append(\"file\", image);\n      formData.append(\"tags\", 'product_image'); // Add tags for the images - {Array}\n      formData.append(\"upload_preset\", \"ninopreset\"); // Replace the preset name with your own\n      formData.append(\"api_key\", \"234688971755288\"); // Replace API key with your own Cloudinary API key\n      formData.append(\"timestamp\", (Date.now() / 1000) | 0);\n\n      // Replace cloudinary upload URL with yours\n      return axios.post(\n        \"https://api.cloudinary.com/v1_1/ninocloudinary/image/upload\",\n        formData, \n        { headers: { \"X-Requested-With\": \"XMLHttpRequest\" }})\n        .then(response => {\n            //masukan logic\n            this.setState({\n                image:response.data.secure_url\n            })\n        })\n    });\n\n    // We would use axios `.all()` method to perform concurrent image upload to cloudinary.\n    axios.all(uploads).then(() => {\n      // ... do anything after successful upload. You can setState() or save the data\n      console.log('Images have all being uploaded')\n    });\n  }\n\n  render() {\n      var dropzone\n      if(!this.state.image){\n          //dropzone nya gambar kamera\n          dropzone=\n          <Dropzone id='dropzone' ref={dropzoneRef} onDrop={this.handleUploadImages}>\n          {({ getRootProps, getInputProps }) => (\n              <div {...getRootProps()}>\n                  <input {...getInputProps()} />\n                  <img style={{ width: '200px' }} src=\"https://www.mbsplugins.de/images/drop-files-here-extra.jpg\" alt=\"\" srcset=\"\" />\n              </div>\n          )}\n      </Dropzone>\n      }else{\n          //dropzonnya gambr dari response\n          dropzone=\n          <Dropzone id='dropzone' ref={dropzoneRef} onDrop={this.handleUploadImages}>\n          {({ getRootProps, getInputProps }) => (\n              <div {...getRootProps()}>\n                  <input {...getInputProps()} />\n                  <img style={{ width: 100 }} src={this.state.image} alt=\"\" srcset=\"\" />\n              </div>\n          )}\n      </Dropzone>\n      }\n    if(!localStorage.getItem('TOKEN')){\n        return(\n            Redirect\n        )\n    }  \n    return (\n      <Form>\n        <FormGroup row>\n          <Label for=\"exampleEmail\" sm={2}>Nama Produk</Label>\n          <Col sm={10}>\n            <Input type=\"text\" name=\"email\" id=\"exampleEmail\" />\n          </Col>\n        </FormGroup>\n        <FormGroup row>\n          <Label for=\"examplePassword\" sm={2}>Harga Produk</Label>\n          <Col sm={10}>\n            <Input type=\"number\" name=\"password\" id=\"examplePassword\"  />\n          </Col>\n        </FormGroup>\n        <FormGroup>\n            <Label for='dropzone'>Upload Gambar</Label>\n            {dropzone}\n        </FormGroup>\n        <FormGroup check row>\n          <Col sm={{ size: 10, offset: 2 }}>\n            <Button>Submit</Button>\n          </Col>\n        </FormGroup>\n      </Form>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}